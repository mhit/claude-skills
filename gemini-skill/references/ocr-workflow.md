# OCR Workflow - PDF/画像読み取り

Geminiの画像認識・OCR機能を活用してPDFや画像からテキストを抽出する。

## 推奨モデル

**`gemini-3-pro-preview`** - マルチモーダル最強、画像認識に優れる

## いつ使うか

- スキャンされたPDF文書の内容を読み取りたい
- スクリーンショットからテキストを抽出したい
- 手書きメモや図表を解析したい
- 画像内のコードを抽出したい

## 実行手順

### 1. ファイル確認

対象ファイルの存在と形式を確認:
```bash
file "$TARGET_FILE"
ls -la "$TARGET_FILE"
```

### 2. Gemini呼び出し

```bash
# 基本的なOCR（Gemini 3 Pro推奨）
gemini -m gemini-3-pro-preview "このファイルの内容を読み取って、テキストとして出力してください" < "$TARGET_FILE"

# 構造化出力が必要な場合
gemini -m gemini-3-pro-preview -o json "このファイルの内容を読み取り、構造化して出力してください" < "$TARGET_FILE"

# gemini-call.shを使う場合
gemini-call.sh --task ocr "このファイルの内容を読み取って" < "$TARGET_FILE"
```

### 3. プロンプト例

**一般的なOCR**:
```
この画像/PDFの内容を正確に読み取り、テキストとして出力してください。
レイアウトや構造はできるだけ保持してください。
```

**表の抽出**:
```
この画像内の表を読み取り、Markdown形式の表として出力してください。
```

**コード抽出**:
```
このスクリーンショット内のコードを抽出してください。
言語を推定し、適切なシンタックスハイライト用のコードブロックで出力してください。
```

**手書きメモ**:
```
この手書きメモを読み取り、テキスト化してください。
読み取れない部分は [不明] と記載してください。
```

## 出力の活用

OCR結果はClaudeのコンテキストに取り込んで後続処理に使用:

1. 抽出テキストの要約
2. 抽出データの分析
3. コードの修正・改善
4. ドキュメント化
